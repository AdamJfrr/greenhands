(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,function(e,a,t){e.exports={calendarContainer:"Calendar_calendarContainer__yvmye",monthHeader:"Calendar_monthHeader__17EKq",daysHeader:"Calendar_daysHeader__c-F-g",daysGrid:"Calendar_daysGrid__3skuj",emptyDay:"Calendar_emptyDay__3pQYp",dayCircle:"Calendar_dayCircle__1i-rd",footer:"Calendar_footer__rZMuV",bookButton:"Calendar_bookButton__2HH9Q",arrowButton:"Calendar_arrowButton__2TD4U",selectedRange:"Calendar_selectedRange__1cdu-",bookedDay:"Calendar_bookedDay__3PmVM",alert:"Calendar_alert__2v8EQ"}},,,function(e,a,t){e.exports={profile:"UserProfile_profile__2fv8A",left:"UserProfile_left__1xJKK",right:"UserProfile_right__I4nY7",topLeft:"UserProfile_topLeft__1vBlh",imageBlock:"UserProfile_imageBlock__C45mv",infoBlock:"UserProfile_infoBlock__NKcFM",topInfoBlock:"UserProfile_topInfoBlock__uKv2F",name:"UserProfile_name__1Np0z",rating:"UserProfile_rating__2gUyM",bottomInfoBlock:"UserProfile_bottomInfoBlock__1KdvW",membership:"UserProfile_membership__24Oc9",bottomLeft:"UserProfile_bottomLeft__17LBs",loading:"UserProfile_loading__HoafS"}},function(e,a,t){e.exports={loginPage:"Login_loginPage__oqNuH",left:"Login_left__ettXG",right:"Login_right___60-j",header:"Login_header__KAHaT",form:"Login_form__3yrGL",reminder:"Login_reminder__3ImxW",reminderLink:"Login_reminderLink__3VvgX",alert:"Login_alert__1V0M3"}},function(e,a,t){e.exports={becomeMemberPage:"BecomeMember_becomeMemberPage__2cqa2",subHeader:"BecomeMember_subHeader__k2ox-",leftContent:"BecomeMember_leftContent__3w5Qo",imageDiv:"BecomeMember_imageDiv__2Zd2T",label:"BecomeMember_label__1Q-QU",imageInput:"BecomeMember_imageInput__5J2LL",bioDiv:"BecomeMember_bioDiv__x5gi4",textArea:"BecomeMember_textArea__2dTRu",memberButton:"BecomeMember_memberButton__2EdYd",rightContent:"BecomeMember_rightContent__2oyJL"}},function(e,a,t){e.exports={signupPage:"Signup_signupPage__KT4tW",left:"Signup_left__1aSH4",right:"Signup_right__2iAdG",header:"Signup_header__1_5xe",form:"Signup_form__11T0R",reminder:"Signup_reminder__2f2a3",reminderLink:"Signup_reminderLink__2la5o",alert:"Signup_alert__3BvpC"}},function(e,a,t){e.exports={menu:"Menu_menu__1cxFZ",link:"Menu_link__1Mpqj",signoutbutton:"Menu_signoutbutton__1ELnM"}},function(e,a,t){e.exports={card:"Usercard_card__1fpZA",rating:"Usercard_rating__2rh0E",ratingDiv:"Usercard_ratingDiv__3C9Tq",imageBlock:"Usercard_imageBlock__x4kpQ",name:"Usercard_name__3-juZ",member:"Usercard_member__2eAVF",memberDate:"Usercard_memberDate__3EHEg",link:"Usercard_link__RNRBR"}},,,function(e,a,t){e.exports={indexPage:"Index_indexPage__3ZVku",headerBlock:"Index_headerBlock__hMGgk",text:"Index_text__2976j",word:"Index_word__1h37A",visible:"Index_visible__36rn9",link:"Index_link__18VTx"}},function(e,a,t){e.exports={searchPage:"Search_searchPage__2_xr4",searchBar:"Search_searchBar___R0c0",label:"Search_label__Br769",buttonDiv:"Search_buttonDiv__2-_C6",header:"Search_header__2wETh",results:"Search_results__UE1BA"}},,,,,function(e,a,t){e.exports=t.p+"static/media/plant 1.aeb0bc89.png"},,,function(e,a,t){e.exports={navbar:"NavBar_navbar__1tG_B",logo:"NavBar_logo__VlMFr"}},,,,,function(e,a,t){e.exports=t.p+"static/media/heroImage.12de7c52.jpg"},,function(e,a,t){e.exports=t(52)},,,,,,,function(e,a,t){},function(e,a,t){},,,,,,function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(34),l=t.n(c),s=(t(45),t(46),t(12)),o=t(31),m=t.n(o),i=t(18),u=t.n(i),d=t(6),b=t(27);const _=Object(b.b)({name:"auth",initialState:{loggedIn:!1,user:null,loggedOut:!0},reducers:{logIn(e,a){e.loggedIn=!0,e.loggedOut=!1,e.user=a.payload.user,localStorage.setItem("user",JSON.stringify(a.payload.user))},logOut(e,a){e.loggedIn=!1,e.loggedOut=!1,e.user=null,localStorage.removeItem("user")}}}),{logIn:g,logOut:p}=_.actions;var E=_.reducer;var f=()=>{const{loggedIn:e,user:a}=Object(s.c)(e=>e.auth);console.log(e,a);const t=Object(s.b)(),r=n.a.createElement("div",{className:u.a.menu},n.a.createElement(d.b,{to:"/search",className:u.a.link},"SEARCH"),n.a.createElement(d.b,{to:"/login",className:u.a.link},"LOG IN"),n.a.createElement(d.b,{to:"/signup",className:u.a.link},"SIGN UP")),c=n.a.createElement("div",{className:u.a.menu},n.a.createElement(d.b,{to:"/search",className:u.a.link},"SEARCH"),n.a.createElement(d.b,{to:"/becomesitter",className:u.a.link},"BECOME A SITTER"),n.a.createElement("button",{onClick:()=>{t(p()),localStorage.removeItem("user")},className:u.a.signoutbutton},"LOG OUT"));return n.a.createElement("div",null,e?c:r)};var h=()=>n.a.createElement("div",{className:m.a.navbar},n.a.createElement(d.b,{to:"/",className:m.a.logo},"GREEN HAND"),n.a.createElement(f,null)),v=t(3),N=t(22),y=t.n(N),O=t(36),k=t.n(O);var j=()=>{const e="Wherever you are, our plant sitters will take care of your greenery".split(" "),[a,t]=Object(r.useState)(-1),[c,l]=Object(r.useState)(!1);return Object(r.useEffect)(()=>{const r=setInterval(()=>{t(e=>e+1)},300);return a>=e.length&&l(!0),()=>clearInterval(r)},[a,e.length]),n.a.createElement("div",{className:y.a.indexPage},n.a.createElement("div",{className:y.a.headerBlock,style:{backgroundImage:`url(${k.a})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}},n.a.createElement("div",{className:y.a.text},e.map((e,t)=>n.a.createElement("span",{key:t,className:`${y.a.word} ${t<=a?y.a.visible:""}`},e," ")),c&&n.a.createElement(d.b,{className:y.a.link,to:"/search"},"Search for sitters"))))},S=t(15),B=t.n(S),D=t(28),C=t.n(D),I=t(25),w=t(37),L=(t(53),t(5));const x=Object(w.a)({apiKey:"AIzaSyAPVK6nhua_I8pusf7B1QBhbzbjQJOC6gU",authDomain:"greenhand-8b487.firebaseapp.com",projectId:"greenhand-8b487",storageBucket:"greenhand-8b487.appspot.com",messagingSenderId:"159376635752",appId:"1:159376635752:web:1a47661570a6f33e46c8dd",measurementId:"G-YGEP2KL712"}),P=Object(I.b)(x),M=Object(L.g)(x);var A=()=>{const e=Object(r.useRef)(),a=Object(r.useRef)(),t=Object(v.p)(),c=Object(s.b)(),[l,o]=Object(r.useState)(!1),[m,i]=Object(r.useState)(""),[u,b]=Object(r.useState)(!1);console.log(l,u);return n.a.createElement("div",{className:B.a.loginPage},n.a.createElement("div",{className:B.a.left},n.a.createElement("div",{className:B.a.header}," Log In "),l&&n.a.createElement("p",{className:B.a.alert},"Log in successful"),b&&n.a.createElement("p",{className:B.a.alert},m),n.a.createElement("form",{onSubmit:async r=>{r.preventDefault();const n=e.current.value,l=a.current.value;try{const e=(await Object(I.c)(P,n,l)).user;c(g({user:e})),o(!0),localStorage.setItem("user",JSON.stringify(e)),t("/")}catch(u){b(!0),i(u.message)}},className:B.a.form},n.a.createElement("input",{ref:e,type:"email",placeholder:"Email",required:!0}),n.a.createElement("input",{ref:a,type:"password",placeholder:"Password",required:!0}),n.a.createElement("div",{className:B.a.reminder},"Don't have an account with Green Hands? ",n.a.createElement(d.b,{className:B.a.reminderLink,to:"/signup"},"Sign up here")),n.a.createElement("div",{className:B.a.reminder},"Forgot password? ",n.a.createElement(d.b,{className:B.a.reminderLink,to:"/signup"},"Recover here")),n.a.createElement("button",{type:"submit"},"Log In "))),n.a.createElement("div",{className:B.a.right},n.a.createElement("img",{src:C.a})))},U=t(17),R=t.n(U);var H=()=>{const e=Object(r.useRef)(),a=Object(r.useRef)(),t=Object(r.useRef)(),c=Object(r.useRef)(),l=Object(r.useRef)(),o=Object(v.p)(),m=Object(s.b)(),[i,u]=Object(r.useState)(!1),[b,_]=Object(r.useState)(""),[p,E]=Object(r.useState)(!1);return n.a.createElement("div",{className:R.a.signupPage},n.a.createElement("div",{className:R.a.left},n.a.createElement("div",{className:R.a.header},"Sign Up"),i&&n.a.createElement("p",{className:R.a.alert},"Log in successful"),p&&n.a.createElement("p",{className:R.a.alert},b),n.a.createElement("form",{onSubmit:async r=>{r.preventDefault();const n=e.current.value,s=a.current.value,i=t.current.value,d=c.current.value,b=l.current.value;try{const e=(await Object(I.a)(P,n,s)).user;await Object(L.i)(Object(L.d)(M,"users",e.uid),{firstName:d,lastName:b,email:n,city:i.charAt(0).toUpperCase()+i.slice(1).toLowerCase(),createdAt:new Date,rating:0,becomeMember:!1,bookings:[]}),m(g({user:e})),u(!0),localStorage.setItem("user",JSON.stringify(e)),o("/")}catch(p){E(!0),_(p.message)}},className:R.a.form},n.a.createElement("input",{ref:c,type:"text",placeholder:"First Name",required:!0}),n.a.createElement("input",{ref:l,type:"text",placeholder:"Last Name",required:!0}),n.a.createElement("input",{ref:e,type:"email",placeholder:"Email",required:!0}),n.a.createElement("input",{ref:a,type:"password",placeholder:"Password",required:!0}),n.a.createElement("input",{ref:t,type:"text",placeholder:"City",required:!0}),n.a.createElement("div",{className:R.a.reminder},"Already part of Green Hands?",n.a.createElement(d.b,{className:R.a.reminderLink,to:"/login"},"Log In here")),n.a.createElement("button",{type:"submit"},"Sign Up"))),n.a.createElement("div",{className:R.a.right},n.a.createElement("img",{src:C.a,alt:"Plant"})))},F=t(23),T=t.n(F),G=t(19),J=t.n(G);var q=e=>{let{uid:a,...t}=e;return n.a.createElement(d.b,{className:J.a.link,to:`/users/${a}`},n.a.createElement("div",{className:J.a.card},n.a.createElement("div",{className:J.a.rating},n.a.createElement("div",{className:J.a.ratingDiv},t.rating," \u2605")),n.a.createElement("div",{className:J.a.imageBlock},n.a.createElement("img",{src:t.source})),n.a.createElement("div",{className:J.a.name},t.name),n.a.createElement("div",{className:J.a.member},n.a.createElement("div",{className:J.a.memberDate},"Member since: ",t.memberDate))))};var $=()=>{const[e,a]=Object(r.useState)("Berlin"),[t,c]=Object(r.useState)(e),[l,s]=Object(r.useState)([]);Object(r.useEffect)(()=>{(async()=>{try{const t=Object(L.c)(M,"users"),r=Object(L.h)(t,Object(L.k)("city","==",e),Object(L.k)("becomeMember","==",!0)),n=(await Object(L.f)(r)).docs.map(e=>({id:e.id,...e.data()}));console.log(n),s(n)}catch(a){console.error("Error fetching users: ",a)}})()},[]);console.log(l);const o=e=>e instanceof L.a?e.toDate().toLocaleDateString():"";return n.a.createElement("div",{className:T.a.searchPage},n.a.createElement("div",{className:T.a.searchBar},n.a.createElement("div",{className:T.a.label},"Enter your city"),n.a.createElement("input",{onChange:e=>{const t=e.target.value,r=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase();a(r)},type:"text",value:e}),n.a.createElement("div",{className:T.a.buttonDiv},n.a.createElement("button",{onClick:async()=>{try{const t=Object(L.c)(M,"users"),r=Object(L.h)(t,Object(L.k)("city","==",e)),n=(await Object(L.f)(r)).docs.map(e=>({id:e.id,...e.data()}));c(e),s(n)}catch(a){console.error("Error fetching users: ",a)}},type:"button"},"\u2192"))),n.a.createElement("div",{className:T.a.header},"Your results in ",t," (",l.length,")"),n.a.createElement("div",{className:T.a.results},l.map(e=>n.a.createElement(q,{key:e.id,uid:e.id,rating:e.rating,source:e.image,name:e.firstName+" "+e.lastName.charAt(0),memberDate:o(e.createdAt)}))))},K=t(14),Q=t.n(K),V=t(11),Y=t.n(V);var W=e=>{let{bookings:a,...t}=e;const c=new Date,[l,o]=Object(r.useState)(c.getMonth()),[m,i]=Object(r.useState)(c.getFullYear()),[u,d]=Object(r.useState)(null),[b,_]=Object(r.useState)(null),[g,p]=Object(r.useState)([]),E=Object(s.c)(e=>e.auth.loggedIn),[f,h]=Object(r.useState)(!1),[v,N]=Object(r.useState)(!1),[y,O]=Object(r.useState)(!1),[k,j]=Object(r.useState)(!1);Object(r.useEffect)(()=>{Array.isArray(a)&&a.length?(()=>{const e=a.flatMap(e=>{const[a,t]=e.split("/"),[r,n,c]=a.split("-").map(Number),[l,s,o]=t.split("-").map(Number),m=new Date(c,n-1,r),i=new Date(o,s-1,l);let u=[],d=new Date(m);for(;d<=i;)u.push(d.toLocaleDateString("en-CA")),d.setDate(d.getDate()+1);return u});p(e)})():p([])},[a]);const S=((e,a)=>new Date(a,e+1,0).getDate())(l,m),B=((e,a)=>new Date(a,e,1).getDay())(l,m),D=e=>{const a=new Date(m,l,e).toLocaleDateString("en-CA");return g.includes(a)},C=e=>{const a=new Date(m,l,e);return!(!u||!b)&&a>=u&&a<=b},I=e=>`${String(e.getDate()).padStart(2,"0")}-${String(e.getMonth()+1).padStart(2,"0")}-${e.getFullYear()}`;return n.a.createElement("div",{className:Y.a.calendarContainer},f&&n.a.createElement("p",{className:Y.a.alert},"Please log in to proceed with booking"),v&&n.a.createElement("p",{className:Y.a.alert},"This day is already booked. Please select a different day"),y&&n.a.createElement("p",{className:Y.a.alert},"Selected range includes booked days. Please choose another range"),k&&n.a.createElement("p",{className:Y.a.alert},"End date cannot be before start date. Please select a valid range"),n.a.createElement("div",{className:Y.a.monthHeader},n.a.createElement("button",{onClick:()=>{0===l?(o(11),i(m-1)):o(l-1)},className:Y.a.arrowButton,disabled:l===c.getMonth()&&m===c.getFullYear()},"<"),n.a.createElement("span",null,["January","February","March","April","May","June","July","August","September","October","November","December"][l]," ",m),n.a.createElement("button",{onClick:()=>{11===l?(o(0),i(m+1)):o(l+1)},className:Y.a.arrowButton},">")),n.a.createElement("div",{className:Y.a.daysHeader},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((e,a)=>n.a.createElement("span",{key:a},e))),n.a.createElement("div",{className:Y.a.daysGrid},Array.from({length:B}).map((e,a)=>n.a.createElement("div",{key:a,className:Y.a.emptyDay})),Array.from({length:S}).map((e,a)=>n.a.createElement("button",{key:a+1,className:`${Y.a.dayCircle} ${C(a+1)?Y.a.selectedRange:""} ${D(a+1)?Y.a.bookedDay:""}`,onClick:()=>(e=>{h(!1),N(!1),O(!1),j(!1);const a=new Date(m,l,e),t=a.toLocaleDateString("en-CA");if(g.includes(t))N(!0);else if(!u||b)d(a),_(null),O(!1);else{if(a<u)return j(!0),d(null),void _(null);let e=!1,t=new Date(u);for(;t<=a;){if(g.includes(t.toLocaleDateString("en-CA"))){e=!0;break}t.setDate(t.getDate()+1)}e?(O(!0),d(null),_(null)):_(a)}})(a+1),disabled:D(a+1)},a+1))),n.a.createElement("div",{className:Y.a.footer},n.a.createElement("button",{disabled:!u||!b,onClick:()=>{if(h(!1),N(!1),O(!1),j(!1),!E)return void h(!0);const e=I(u),a=I(b);e&&a&&t.addBooking(e,a)},className:Y.a.bookButton},"Book Now")))};var Z=()=>{const{userId:e}=Object(v.r)(),[a,t]=Object(r.useState)(null);Object(r.useEffect)(()=>{(async()=>{try{const r=Object(L.d)(M,"users",e),n=await Object(L.e)(r);n.exists()?t({id:n.id,...n.data()}):alert("User not found")}catch(a){alert("Error fetching user data: "+a.message)}})()},[e]);return n.a.createElement("div",{className:Q.a.profile},a?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:Q.a.left},n.a.createElement("div",{className:Q.a.topLeft},n.a.createElement("div",{className:Q.a.imageBlock},n.a.createElement("img",{src:a.image,alt:"User profile"})),n.a.createElement("div",{className:Q.a.infoBlock},n.a.createElement("div",{className:Q.a.topInfoBlock},n.a.createElement("div",{className:Q.a.name},a.firstName+(e=>" "+e.charAt(0))(a.lastName)),n.a.createElement("div",{className:Q.a.rating},a.rating," \u2605")),n.a.createElement("div",{className:Q.a.bottomInfoBlock},n.a.createElement("div",{className:Q.a.membership},"Member since: ",(e=>e instanceof L.a?e.toDate().toLocaleDateString():"")(a.createdAt))))),n.a.createElement("div",{className:Q.a.bottomLeft},a.bio)),n.a.createElement("div",{className:Q.a.right},n.a.createElement(W,{addBooking:async(a,t)=>{console.log(a,t);try{const n=Object(L.d)(M,"users",e);await Object(L.j)(n,{bookings:Object(L.b)(`${a}/${t}`)}),alert("Booking added successfully!"),window.location.reload()}catch(r){alert("Error adding booking: "+r.message)}},bookings:a.bookings}))):n.a.createElement("p",{className:Q.a.loading},"Loading user data..."))},z=t(16),X=t.n(z);var ee=()=>{const e=Object(r.useRef)(),a=Object(r.useRef)(),t=Object(s.c)(e=>e.auth.user),c=Object(v.p)();return n.a.createElement("div",{className:X.a.becomeMemberPage},n.a.createElement("div",{className:X.a.leftContent},n.a.createElement("p",{className:X.a.subHeader},"Want to become a member and join Green Hands? Please fill out the below information."),n.a.createElement("div",{className:X.a.imageDiv},n.a.createElement("label",{className:X.a.label},"Choose an image"),n.a.createElement("input",{className:X.a.imageInput,ref:e,type:"file",accept:"image/*"})),n.a.createElement("div",{className:X.a.bioDiv},n.a.createElement("label",{className:X.a.label},"Tell us more about yourself"),n.a.createElement("textarea",{id:"message",placeholder:"Type your message here...",className:X.a.textArea,ref:a})),n.a.createElement("button",{onClick:async()=>{try{const r=Object(L.d)(M,"users",t.uid);await Object(L.j)(r,{becomeMember:!0,bio:a.current.value}),c("/search")}catch(e){console.error("Error updating becomeMember:",e.message)}},className:X.a.memberButton},"Become a Member")))};var ae=()=>{const e=Object(s.b)(),a=Object(s.c)(e=>e.auth.loggedIn);return Object(r.useEffect)(()=>{const a=localStorage.getItem("user");if(a)try{const r=JSON.parse(a);e(g({user:r}))}catch(t){console.error("Failed to parse stored user:",t)}},[e]),n.a.createElement("div",{className:"App"},n.a.createElement(h,null),n.a.createElement(v.d,null,n.a.createElement(v.b,{path:"/",element:n.a.createElement(j,null)}),n.a.createElement(v.b,{path:"/login",element:n.a.createElement(A,null)}),n.a.createElement(v.b,{path:"/signup",element:n.a.createElement(H,null)}),n.a.createElement(v.b,{path:"/search",element:n.a.createElement($,null)}),n.a.createElement(v.b,{path:"/users/:userId",element:n.a.createElement(Z,null)}),n.a.createElement(v.b,{path:"/becomesitter",element:a?n.a.createElement(ee,null):n.a.createElement(v.a,{to:"/",replace:!0})})))};var te=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,54)).then(a=>{let{getCLS:t,getFID:r,getFCP:n,getLCP:c,getTTFB:l}=a;t(e),r(e),n(e),c(e),l(e)})};var re=Object(b.a)({reducer:{auth:E}});l.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(s.a,{store:re},n.a.createElement(d.a,null,n.a.createElement(ae,null))))),te()}],[[38,1,2]]]);
//# sourceMappingURL=main.54f76452.chunk.js.map